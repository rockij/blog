<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="ko-KR" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <title></title>
    <style>
      [aria-live='assertive'] {
        position: absolute;
        top: 0;
        width: max-content;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);
        border-radius: 0 0 4px 4px;
        color: #fff;
      }

      [aria-live='assertive']:not(:empty) {
        padding: 0.25em 1em;
        background: maroon;
      }

      /* general demo styles */
      body {
        line-height: 1.6;
        height: 100%;
        display: flex;
        flex-direction: column;
        background: #ddd;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
          'Segoe UI Symbol';
      }

      header {
        padding: 1rem 2rem;
        background: #fff;
        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);

        h1 {
          font-size: 1.2rem;
          margin: 0;
        }
      }

      .message header {
        padding: 1rem;
        border-bottom: 1px solid #ccc;
        font-weight: 500;
      }

      .message footer {
        padding: 1rem;
        border-top: 1px solid #ccc;
        font-weight: 500;
      }

      .message {
        background: #fff;
        border: 1px solid #ddd;
        display: grid;
        grid-template-rows: auto 1fr auto;
        position: absolute;
        min-height: 60vh;
        width: 80vw;
        bottom: 0;
        right: 2vw;
        box-shadow: 0 0 7px 2px rgba(0, 0, 0, 0.1);
        border-radius: 8px 8px 0 0;
        overflow: hidden;
      }

      button {
        background: #0871e7;
        color: #fff;
        padding: 0.2em 1em;
        border-radius: 4px;
        border: 1px solid transparent;
        font: inherit;

        &:focus-visible {
          outline: 2px solid black;
          outline-offset: 2px;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Live region demo</h1>
    </header>

    <div aria-live="assertive"></div>

    <div class="message">
      <header>Compose a message</header>
      <div class="content"></div>
      <footer>
        <button>Send</button>
      </footer>
    </div>

    <script>
      const msg = document.querySelector('[aria-live="assertive"]');
      const btn = document.querySelector('button');
      const msgContent = '다운로드가 완료되었습니다';

      btn.addEventListener('click', function () {
        msg.innerHTML = '';
        msg.innerHTML = msgContent;

        setTimeout(function () {
          msg.innerHTML = '';
        }, 3000);
      });
    </script>
  </body>
</html>
