<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Language" content="ko-KR">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<link href="../resources/css/font-poppins.css" rel="stylesheet">
<link href="../resources/css/font-anonymous.css" rel="stylesheet">
<link href="../resources/css/font-montserrat.css" rel="stylesheet">
<link href="../resources/css/font-courierprime.css" rel="stylesheet">
<link href="../resources/css/font-oleoscript.css" rel="stylesheet">
<link href="../resources/css/font-opensans.css" rel="stylesheet">
<link href="../resources/css/font-raleway.css" rel="stylesheet">
<link href="../resources/css/font-roboto.css" rel="stylesheet">
<link href="../resources/css/font-quicksand.css" rel="stylesheet">
<link rel="stylesheet" href="../resources/css/reset.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
<!-- <script src="../resources/js/jquery-1.12.4.min.js"></script> -->
<script src="../resources/js/jquery.min.3.4.1.js"></script>
<script src="../resources/js/gsap.min.js"></script>
<script src="../resources/js/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.2.3/ionicons.min.js"></script> <!-- 상대경로X -->
<title></title>
<style>
/*
    font-family: 'Poppins', sans-serif;
    font-family: 'Anonymous Pro', sans-serif;
    font-family: 'Montserrat', sans-serif;
    font-family: 'Courier Prime', monospace;
    font-family: 'Oleo Script', cursive;
    font-family: 'Open Sans', sans-serif;
    font-family: "Roboto", sans-serif;
    font-family: 'Quicksand', sans-serif;
*/
body{
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #434343;
}
.time-timer{
    position: relative;
    width: 400px;
    height: 400px;
    border-radius: 50px;
    border: 20px solid #c2c2c2;
    background-color: #fff;
}
.time-timer.blink{
    animation: blink 1s linear infinite;
}
@keyframes blink{
    0%, 100%{
        background-color: #fff;
    }
    50%{
        background-color: #f00;
    }
}
.time-timer .title{
    position: absolute;
    right: 6%;
    bottom: 1%;
    margin: 0;
    font-size: 20px;
    font-weight: normal;
    text-align: center;
    text-transform: uppercase;
    color: #434343;
}
.time-timer .minute{
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}
.time-timer .minute > div{
    position: absolute;
    width: 50px;
    height: 50px;
    font-weight: bold;
    line-height: 50px;
    text-align: center;
}
.time-timer .minute > div::before{
    content:'';
    position: absolute;
    left: 50%;
    top: -100px;
    margin-left: -2px;
    width: 6px;
    height: 20px;
    background-color: #434343;
}
.time-timer .minute > div span{
    position: relative;
    right: -160px;
    display: block;
}
.time-timer .minute > div.m0{
    transform: rotate(0deg);
}
.time-timer .minute > div.m0 span{
    transform: rotate(0deg);
}
.time-timer .minute > div.m5{
    transform: rotate(-30deg);
}
.time-timer .minute > div.m5 span{
    transform: rotate(30deg);
}
.time-timer .minute > div.m10{
    transform: rotate(-60deg);
}
.time-timer .minute > div.m10 span{
    transform: rotate(60deg);
}
.time-timer .minute > div.m15{
    transform: rotate(-90deg);
}
.time-timer .minute > div.m15 span{
    transform: rotate(90deg);
}
.time-timer .minute > div.m20{
    transform: rotate(-120deg);
}
.time-timer .minute > div.m20 span{
    transform: rotate(120deg);
}
.time-timer .minute > div.m25{
    transform: rotate(-150deg);
}
.time-timer .minute > div.m25 span{
    transform: rotate(150deg);
}
.time-timer .minute > div.m30{
    transform: rotate(-180deg);
}
.time-timer .minute > div.m30 span{
    transform: rotate(180deg);
}
.time-timer .minute > div.m35{
    transform: rotate(-210deg);
}
.time-timer .minute > div.m35 span{
    transform: rotate(210deg);
}
.time-timer .minute > div.m40{
    transform: rotate(-240deg);
}
.time-timer .minute > div.m40 span{
    transform: rotate(240deg);
}
.time-timer .minute > div.m45{
    transform: rotate(-270deg);
}
.time-timer .minute > div.m45 span{
    transform: rotate(270deg);
}
.time-timer .minute > div.m50{
    transform: rotate(-300deg);
}
.time-timer .minute > div.m50 span{
    transform: rotate(300deg);
}
.time-timer .minute > div.m55{
    transform: rotate(-330deg);
}
.time-timer .minute > div.m55 span{
    transform: rotate(330deg);
}
.time-timer canvas{
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%,-50%);
}
.controller{
    margin-top: 40px;
    color: #fff;
}
.controller .label{
    margin: 0;
    font-size: 20px;
    text-transform: uppercase;
}
.controller button{
    width: 50px;
    height: 50px;
    font-size: 30px;
    color: #fff;
    background-color: transparent;
    border: 0;
    cursor: pointer;
    outline: none;
    transition: color .3s ease-in-out;
}
.controller button:active{
    color:#f00
}
.controller .buttons{
 float:left;
 width: 50%;
 text-align: center;
}
.controller .setting{
    float:right;
    width: 50%;
    text-align: center;
}
.controller .setting .number{
    display: inline-block;
    width: 50px;
    font-size: 30px;
}
</style>
</head>
<body>

<div class="container">
    <div class="time-timer">
        <h1 class="title">Time <strong>Timer</strong></h1>
        <div class="minute">
            <div class="m0"><span>0</span></div>
            <div class="m5"><span>5</span></div>
            <div class="m10"><span>10</span></div>
            <div class="m15"><span>15</span></div>
            <div class="m20"><span>20</span></div>
            <div class="m25"><span>25</span></div>
            <div class="m30"><span>30</span></div>
            <div class="m35"><span>35</span></div>
            <div class="m40"><span>40</span></div>
            <div class="m45"><span>45</span></div>
            <div class="m50"><span>50</span></div>
            <div class="m55"><span>55</span></div>
        </div>
        <canvas id="remain-time" width="220" height="220"></canvas>
    </div>
    <div class="controller">
        <div class="buttons">
            <p class="label">buttons</p>
            <button id="btn-play"><ion-icon name="play-outline"></ion-icon></button>
            <button id="btn-pause"><ion-icon name="pause-outline"></ion-icon></button>
            <button id="btn-refresh"><ion-icon name="refresh-outline"></ion-icon></button>
        </div>
        <div class="setting">
            <p class="label">set miutes</p>
            <button id="btn-minus"><ion-icon name="remove-outline"></ion-icon></button>
            <span id="minute" class="number"></span>
            <button id="btn-plus"><ion-icon name="add-outline"></ion-icon></button>
        </div>
    </div>
</div>

<script>
var btnPlay = $('#btn-play'),
    btnPause = $('#btn-pause'),
    btnRefresh = $('#btn-refresh'),
    btnMinus = $('#btn-minus'),
    btnPlus = $('#btn-plus'),
    txtMinute = $('#minute');

var minute = 45,
    remainTime,
    timer,
    run = false;

var canvas = document.getElementById('remain-time'),
ctx = canvas.getContext('2d');
ctx.strokeStyle = '#ff0000';
ctx.lineWidth = 80;

btnPause.hide();
setMinutes();

btnMinus.on('click', clickMinus);
btnPlus.on('click', clickPlus);
btnPlay.on('click', clickPlay);
btnPause.on('click', clickPause);
btnRefresh.on('click', clickRefresh);

function setMinutes(){
    txtMinute.text(minute);
    remainTime = minute * 60;
    if(minute === 60) remainTime--;
    drawArc();
}

function clickMinus(){
    if(minute > 1) minute--;
    clickPause();
    setMinutes();
}

function clickPlus(){
    if(minute < 60) minute++;
    clickPause();
    setMinutes();
}

function clickPlay(){
    run = true;
    btnPlay.hide();
    btnPause.show();
    timer = setInterval(runTimer, 10); // speed up x100 for test
}

function clickPause(){
    run = false;
    btnPlay.show();
    btnPause.hide();
    clearInterval(timer);
    $('.time-timer').removeClass('blink');

}

function clickRefresh(){
    clickPause();
    setMinutes();
}

function drawArc(){
    var remainPercent = (60 * 60 - remainTime) / (60 * 60);
    ctx.clearRect(0,0, canvas.width, canvas.height)
    ctx.beginPath();
    ctx.arc(110, 110, 70, 1.5 * Math.PI + remainPercent * (2 * Math.PI), 1.5 * Math.PI);
    ctx.stroke();
}

function runTimer(){
    if(remainTime === 0){
        clearInterval(timer);
        $('.time-timer').addClass('blink');
    }else{
        remainTime--;
        drawArc();
    }
}

</script>

</body>
</html>       